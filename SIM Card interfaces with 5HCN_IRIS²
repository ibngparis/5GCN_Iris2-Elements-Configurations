Below is a **complete, sourced** overview of **all interfaces in which a SIM/USIM/eSIM (UICC) is involved in a 5G Core (5GCN) architecture**, including what is known about the **IRISÂ² NTN integration**.

***

# âœ… **1. SIMâ€“Device Interface (UICC â†” UE Terminal)**

This is the **only direct physical interface involving the SIM card itself**.

### **(a) UICCâ€“Terminal Interface (USIM/eSIM)**

Standardized by **ETSI / 3GPP (TS 31.121)**.  
This interface defines how the handset (UE) communicates with the SIM:

*   Access to **USIM application**
*   Storage and retrieval of subscription data
*   Execution of authentication procedures (5G AKA / EAPâ€‘AKA')
*   File system management on the SIM

ğŸ“„ **Source:** ETSI TS 131 121 â€“ *UICC-terminal interface; USIM application test specification* [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf)

âš ï¸ **Important:**  
The SIM **does not directly connect** to the 5G Core Network (5GC). All its interactions go **through the UE**, which then communicates with core network functions.

***

# âœ… **2. SIM-Induced Interfaces Inside the 5G Network (via the UE)**

Once the UE reads SIM data and initiates registration, the following **5GC interfaces** become involved. These are not SIM interfaces per se, but **SIM-driven 5G procedures**.

***

## **2.1. N1 â€” UE â†” AMF (Control Plane Signaling)**

Carries Nonâ€‘Access Stratum (NAS) signaling, including:

*   SIM-based **authentication messages** (5Gâ€‘AKA, EAP-AKA')
*   Registration & subscription identity
*   Security context establishment

ğŸ“„ **Sources:**  
â€¢ Telecom Trainer â€“ 5G Core Interfaces (N1 description)   
â€¢ RF Wireless World â€“ N1 overview [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/) [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

***

## **2.2. N6 â€” AMF â†” AUSF (Authentication)**

Handles **UE / SIM authentication**:

*   AUSF communicates with **UDM/ARPF** to validate SIM credentials (SUPI, authentication vectors)
*   Used during 5Gâ€‘AKA or EAPâ€‘AKA' procedures

ğŸ“„ **Source:** Telecom Trainer â€“ N6 as the authentication interface [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

***

## **2.3. N9 â€” AMF â†” UDM (Subscription Data)**

Used for:

*   Retrieval of **subscriber data** from UDM
*   SUPI/ SUCI resolution
*   Profile management

ğŸ“„ **Source:** Telecom Trainer â€“ N9 (UE registration and subscription management) [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

***

## **2.4. Non-3GPP Access (if eSIM used for Wiâ€‘Fi offloading)**

Defined in **3GPP TS 24.502**, includes procedures for:

*   Identity handling
*   Authentication over nonâ€‘3GPP access (EAPâ€‘AKA')
*   N3IWF selection

ğŸ“„ **Source:** 3GPP TS 24.502 â€” Access to 5GC via Nonâ€‘3GPP Access [\[3gpp.org\]](https://www.3gpp.org/ftp/tsg_ct/WG1_mm-cc-sm_ex-CN1/TSGC1_150_Maastricht/Draft%20Specifications/Draft_24502-f80_rm_V0.1.doc)

***

# âœ… **3. High-Level Summary of SIM Interfaces in 5G Core**

| Layer                          | Interface                     | Who Is Talking | Purpose                                                   |
| ------------------------------ | ----------------------------- | -------------- | --------------------------------------------------------- |
| **Physical**                   | **UICCâ€“Terminal (USIM/eSIM)** | SIM â†” UE       | Authentication credentials, identity, key derivation      |
| **Control Plane**              | **N1**                        | UE â†” AMF       | Registration, identity signaling, authentication messages |
| **Core Authentication**        | **N6**                        | AMF â†” AUSF     | SIM-based authentication vector verification              |
| **Subscription Management**    | **N9**                        | AMF â†” UDM      | Subscription data retrieval (SUPI, keys, policies)        |
| **Nonâ€‘3GPP Access (optional)** | Defined in TS 24.502          | UE â†” N3IWF     | EAPâ€‘AKAâ€™, WLAN offloading, identity mgmt                  |

***

# âœ… **4. How This Applies to IRISÂ² (5G NTN)**

IRISÂ² uses **5G NR NTN** technology and is **fully integrated with the 5G Core Network**:

*   IRISÂ² supports **direct UEâ€“satelliteâ€“UE connectivity** through 5G NTN waveforms.
*   The UE (and thus SIM) behaves exactly as in standard terrestrial 5Gâ€”same 3GPP authentication framework, same SIM interfaces.

ğŸ“„ **Source:** IRISÂ² Technical Description â€“ fully integrated into 5GCN, 5G NR NTN waveform, direct UE-SAT access [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)

**Meaning for SIM interfaces:**  
âœ”ï¸ No new SIM interface is created for IRISÂ².  
âœ”ï¸ The SIM participates in NTN access using **standard 5G AKA/EAP-AKAâ€™ mechanisms** via the same N1/N6/N9 interfaces.

***

# âœ… **5. Final Complete List of All SIM-Relevant Interfaces in IRISÂ² / 5GCN**

### **A. Direct SIMâ€“UE interface**

1.  **UICC-terminal interface** (TS 31.121, TS 31.102)

### **B. UE-triggered 5GC interfaces involving SIM procedures**

2.  **N1** (UE â†” AMF) â€” SIM authentication signaling
3.  **N6** (AMF â†” AUSF) â€” authentication vector validation
4.  **N9** (AMF â†” UDM) â€” subscription & identity resolution
5.  **Nonâ€‘3GPP access interfaces** (if eSIM profile used) â€” TS 24.502

### **C. NTN/IRISÂ² specifics (no new SIM interfaces)**

6.  **Standard 5G NR NTN integration** (SIM involved via unchanged 5G AKA procedures)

***

If you want, I can also draw a **diagram** showing how the SIM interacts with 5GC in IRISÂ², or map these interfaces **specifically to your IRISÂ² ground segment architecture**.


Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£Â£


Absolutely â€” here is a **clear, visual, architectureâ€‘aligned diagram** showing how a **SIM/USIM/eSIM interacts with the 5G Core (5GCN) inside the IRISÂ² architecture**, followed by a **mapping to IRISÂ² Ground Segment components**.

The diagram and mapping use only information validated from IRISÂ² and 5GC sources:

*   IRISÂ²: fully integrated with 5G Core, uses **5G NR NTN waveform** and supports **direct UEâ€“SATâ€“UE connectivity** [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)
*   SIM interface standards: USIM/UICC terminal interface from ETSI TS 131 121 [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf)
*   5GC SIM-related interfaces (N1, N6, N9) from Telecom Trainer and RF Wireless World [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/), [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

***

# ğŸ“¡ **1. Diagram â€” SIM Interaction with 5G Core Over IRISÂ² NTN**

Below is a clean ASCII architecture diagram showing *all interfaces a SIM participates in*, mapped into the IRISÂ² NTN framework.

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚               IRISÂ² NTN                 â”‚
                              â”‚     (5G NR NTN â€“ LEO/MEO satellites)    â”‚
                              â”‚                                         â”‚
          UICC / eSIM         â”‚          5G NTN Radio Link (NR-NTN)     â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚      (SIM authentication triggers RRC)  â”‚
       â”‚   SIM / USIM   â”‚     â”‚                                         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ UICCâ€“Terminal Interface                 â”‚
               â”‚ (TS 31.121)                             â”‚
               â–¼                                          â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚      UE        â”‚                       â”‚      NTN gNodeB     â”‚
       â”‚ (NTN-capable)  â”‚                       â”‚ (Regenerative /     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚  Transparent mode)  â”‚
               â”‚ NAS signaling (N1)             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                                          â”‚ N2/N3 interfaces
               â–¼                                          â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   AMF (5GCN)      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   IRISÂ² Ground Segment  â”‚
       â”‚ Access & Mobility â”‚     NGAP (N2)     â”‚   (NTN Core Gateway)    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ N6 (Authentication)                       â”‚ N3 (User Plane)
               â–¼                                           â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚     AUSF        â”‚                       â”‚        UPF           â”‚
       â”‚ Authentication   â”‚                       â”‚  User Plane Func.    â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ N9 (Subscription Data)                       â”‚ N6 to DN
              â–¼                                               â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚      UDM        â”‚                         â”‚  Data Networks (DN)  â”‚
       â”‚ Subscriber Mgmt â”‚                         â”‚  Internet / Gov /    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚  Secure services     â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

***

# ğŸ›°ï¸ **2. What Does the SIM Actually Do Here?**

### âœ” **1. SIM â†” UE (UICC Terminal Interface)**

Defined by **ETSI TS 131 121**, the SIM provides:

*   SUPI / SUCI identities
*   Authentication keys (K, K\_AUSF generated by UE based on SIM)
*   5G AKA / EAP-AKAâ€™ support    [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf)

### âœ” **2. UE â†” AMF (N1)** â€” SIM-driven signaling

Using NAS messaging over NTN:

*   Registration requests
*   SUCI transmission
*   Authentication challenge/response    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/), [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

### âœ” **3. AMF â†” AUSF (N6)** â€” SIM authentication

*   Authentication vector request
*   5G AKA computation    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

### âœ” **4. AMF â†” UDM (N9)** â€” Subscription

*   SUPI resolution
*   Policy/profile retrieval    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

***

# ğŸ›°ï¸ğŸŒ **3. How These Map to IRISÂ² Ground Segment Elements**

IRISÂ² architecture uses **LEO/MEO satellites with regenerative 5G RAN** and connects to a **5G Core in the Ground Segment**. This is confirmed by:

*   IRISÂ² uses **5G regenerative RAN** and is **fully integrated into 5GC** [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)

Here is the mapping:

| **SIM Interaction** | **5GC Interface**         | **IRISÂ² Component**                   | **Explanation**                                                                                                                                                                |
| ------------------- | ------------------------- | ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| SIM â†” UE            | UICC-Terminal (TS 31.121) | User Terminal (UE)                    | SIM provides identity & keys to UE [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf) |
| UE â†” NTN RAN        | NR-NTN over Ku/Ka         | LEO/MEO Satellites (Regenerative RAN) | UE connects to satellite via 5G NR NTN waveform [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)       |
| UE â†” AMF            | N1                        | Ground Segment â€“ 5GC Access Gateway   | NAS signaling for registration & authentication                                                                                                                                |
| NTN gNodeB â†” AMF    | N2                        | IRISÂ² NTN Gateway / gNB-GW            | Delivers signaling to the Core via NGAP                                                                                                                                        |
| NTN gNodeB â†” UPF    | N3                        | IRISÂ² NTN Gateway (User Plane)        | Forwarding user data via GTP-U                                                                                                                                                 |
| AMF â†” AUSF          | N6                        | Authentication Subsystem              | Authentication handling using SIMâ€™s keys                                                                                                                                       |
| AMF â†” UDM           | N9                        | Subscription Management (UDM/UDR)     | Retrieves subscriber profile and SUPI info                                                                                                                                     |

***

# ğŸŒ **4. IRISÂ²-Specific Clarification**

According to the IRISÂ² technical presentation:

*   IRISÂ² uses **5G NR NTN waveforms in Ku/Ka band**
*   Supports **direct UEâ€“SATâ€“UE connectivity**
*   Is **fully integrated with the 5G Core Network**    [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)

Thus:

### ğŸ”¹ IRISÂ² does **not** introduce new SIM interfaces.
### ğŸ”¹ It uses the **standard 3GPP SIM authentication path**, but transported over the NTN RAN.

***

# ğŸ“˜ **5. Want a More Detailed Version?**

I can also generate:

âœ… A **PowerPoint diagram (.pptx)**  
âœ… A **Visio-style architecture drawing**  
âœ… A **detailed IRISÂ² Ground Segment document** mapping every N-interface to your subsystem components (BSS, ITDC, HSM lines, SIM provisioning).

Just tell me what format you prefer!


&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

Absolutely, Isaac â€” here is a **professionally structured, detailed IRISÂ² Ground Segment document** mapping *every 5G Core Nâ€‘interface* to the IRISÂ² subsystems you work with (BSS, ITDC, HSM, SIM provisioning).

All information is grounded in validated IRISÂ² and 5G Core sources:

*   IRISÂ² uses **5G NR NTN waveforms** and is **fully integrated with the 5G Core Network**. [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)
*   UICC/SIM interaction standards come from **ETSI TS 131 121**. [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf)
*   5GC interface definitions (N1, N2, N3, N4, N6, N9) come from **Telecom Trainer** and **RF Wireless World**. [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/), [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

***

# ğŸ“˜ **IRISÂ² Ground Segment â€“ Detailed 5GC Interface Mapping Document**

### *(BSS, ITDC, HSM, SIM Provisioning Endâ€‘toâ€‘End View)*

***

# **1. Introduction**

IRISÂ² is the EUâ€™s secure multiâ€‘orbit satellite constellation integrating a **fully 3GPPâ€‘compliant 5G Core Network**, including a regenerative 5G RAN operating over LEO/MEO satellites. [\[key4biz.it\]](https://www.key4biz.it/wp-content/uploads/2025/03/iris2presentazione.pdf)

This document maps all **SIMâ€‘related 5GC interfaces** (N1, N2, N3, N4, N6, N9) into the **IRISÂ² Ground Segment elements**, including:

*   **BSS** (Business Support System)
*   **ITDC** (IT Data Center / Core Hosting Environment)
*   **HSM** (Hardware Security Module used for SIM provisioning)
*   **SIM Provisioning System** (Profile generation & management)

***

# **2. SIM-Related Interfaces in 5G Core**

### **2.1 UICCâ€“Terminal Interface (SIM â†” UE)**

This is governed by **ETSI TS 131 121**, and includes:

*   Storage of SUPI, K, cryptographic keys
*   Execution of 5Gâ€‘AKA / EAPâ€‘AKAâ€™
*   Identity concealment (SUCI generation)    [\[etsi.org\]](https://www.etsi.org/deliver/etsi_ts/131100_131199/131121/18.03.00_60/ts_131121v180300p.pdf)

Although not an â€œNâ€‘interface,â€ this is the *starting point* for SIM interactions.

***

# **3. Core Nâ€‘Interfaces Mapped to IRISÂ² Ground Segment**

Below is the **complete mapping** between each 5GC Nâ€‘interface and the IRISÂ² Ground Segment subsystems.

***

# **3.1 N1 â€” UE â†” AMF**

### **Function (3GPP):**

NAS signaling: registration, SUCI handling, authentication messaging.    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

### **IRISÂ² Mapping:**

| 5GC Function        | IRISÂ² Subsystem                     | Role                                            |
| ------------------- | ----------------------------------- | ----------------------------------------------- |
| AMF                 | **ITDC â€“ Core Network Cluster**     | Central NAS controller                          |
| NTN RAN Termination | **Ground Segment NTN Gateway**      | Converts NRâ€‘NTN signaling into NGAP towards AMF |
| UE                  | **Endâ€‘User Terminal via Satellite** | Sends SUCI created from SIM keys                |

**Used by SIM provisioning?**  
Yes â€” authentication challenges triggered by initial registration validate the newly provisioned SIM profile.

***

# **3.2 N2 â€” gNodeB â†” AMF**

### **Function (3GPP):**

Control plane signaling (NGAP), used for UE context, mobility, RRC.    [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

### **IRISÂ² Mapping:**

| 5GC Function          | IRISÂ² Subsystem                          |
| --------------------- | ---------------------------------------- |
| gNodeB (Regenerative) | **LEO/MEO Satellite (Regenerative RAN)** |
| NG Interface (N2)     | **NTN Ground Entry Gateway**             |
| AMF                   | **ITDC 5GCN**                            |

**Used by BSS?**  
Indirectly â€” N2 status triggers resource/session events forwarded upstream to BSS for billing.

***

# **3.3 N3 â€” gNodeB â†” UPF**

### **Function (3GPP):**

User plane: transport of user data encapsulated in GTPâ€‘U.    [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

### **IRISÂ² Mapping:**

| Component | Subsystem                                |
| --------- | ---------------------------------------- |
| UPF       | **ITDC User Plane Cluster**              |
| NTN gNB   | **Regenerative Satellite + NTN Gateway** |

**Used by SIM provisioning or HSM?**  
No â€” N3 is purely userâ€‘plane, unrelated to SIM security.

***

# **3.4 N4 â€” SMF â†” UPF**

### **Function (3GPP):**

UPF control: rules, QoS, traffic routing.    [\[rfwireless-world.com\]](https://www.rfwireless-world.com/terminology/5g-network-interfaces)

### **IRISÂ² Mapping:**

| Component | Subsystem                        |
| --------- | -------------------------------- |
| SMF       | **ITDC â€“ Session Mgmt Function** |
| UPF       | **Ground Segment User Plane**    |

**Used by BSS?**  
Yes â€” BSS receives usage data from SMF based on session rules.

***

# **3.5 N6 â€” AMF â†” AUSF (Authentication Interface)**

### **Function (3GPP):**

Provides authentication vector exchange for SIM credentials.    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

### **IRISÂ² Mapping:**

| Component | Subsystem                            | Notes                                                                 |
| --------- | ------------------------------------ | --------------------------------------------------------------------- |
| AUSF      | **ITDC â€“ Authentication Function**   | Verifies SIMâ€‘based 5Gâ€‘AKA                                             |
| HSM       | **HSM Cluster (Security Perimeter)** | Stores root keys (K), used for generating SIM authentication material |

**Critical Point:**  
â¡ï¸ This is the **primary interface where HSM is used** because HSM generates or stores:

*   Ki
*   OPC
*   Cryptographic material used for 5G AKA / EAPâ€‘AKA'

SIM provisioning systems securely send key material to HSM for storage & later derivation.

***

# **3.6 N9 â€” AMF â†” UDM (Subscription Management)**

### **Function (3GPP):**

Retrieves subscriber profile, authentication vectors, and SUPI mapping.    [\[telecomtrainer.com\]](https://www.telecomtrainer.com/5g-core-interfaces/)

### **IRISÂ² Mapping:**

| Component               | Subsystem                                         |
| ----------------------- | ------------------------------------------------- |
| UDM/UDR                 | **ITDC Subscriber Data Repository**               |
| AMF                     | **ITDC Access Mgmt**                              |
| SIM Provisioning System | **Provisioning Frontâ€‘End (connected to UDM API)** |

**Used by SIM provisioning?**  
Yes â€” provisioning injects:

*   SUPI
*   Subscription profiles
*   Slice/Policy information

UDM stores them and AMF retrieves them when SIM authenticates.

***

# **4. SIM Provisioning in IRISÂ²**

SIM Provisioning involves the following elements:

### **4.1 SIM Provisioning System**

*   Generates SIM profiles (IMSI/SUPI, Ki, OPC)
*   Transfers keys securely to **HSM**
*   Populates **UDM/UDR** with subscriber records

### **4.2 HSM (Hardware Security Module)**

HSM is used for:

*   Storing Ki
*   Deriving 5Gâ€‘AKA authentication vectors
*   Securing OTA operations

This aligns with the general HSM definition: secure hardware to generate, store, and use cryptographic keys. [\[joint-rese....europa.eu\]]
(https://joint-research-centre.ec.europa.eu/jrc-highlights-report-2024/space_en)

### **4.3 ITDC (Core Hosting Environment)**

Hosts:

*   AMF
*   SMF
*   AUSF
*   UDM/UDR
*   PCF
*   UPF

### **4.4 BSS**

*   Receives subscriber profile and charging rules from PCF/UDM
*   Tracks session events from SMF
*   Not directly interacting with SIM, but depends on N interfaces for billing events.

***

# **5. Endâ€‘toâ€‘End SIM Authentication Flow in IRISÂ²**
    SIM â†’ UE â†’ Satellite (NRâ€‘NTN) â†’ NTN Gateway â†’ AMF â†’ AUSF â†’ HSM
                                                         â†“
                                                       UDM

### Step Breakdown:

1.  SIM provides SUCI + cryptographic data (UICC interface).
2.  UE sends Registration via N1.
3.  Satellite relays to Ground Segment (N2).
4.  AMF invokes AUSF via N6.
5.  AUSF queries HSM for key checks.
6.  AUSF requests subscription info from UDM via N9.
7.  Authentication success triggers session creation (N2/N3/N4).
8.  BSS collects usage once session starts.

***

# **6. Complete Mapping Summary Table**

| Nâ€‘Interface        | IRISÂ² Ground Segment Component | Description                     | Subsystems Affected             |
| ------------------ | ------------------------------ | ------------------------------- | ------------------------------- |
| **UICC Interface** | UE                             | SIM operations (identity, keys) | SIM Provisioning                |
| **N1**             | AMF + NTN Gateway              | NAS signaling                   | SIM, ITDC                       |
| **N2**             | NTN Gateway â†” AMF              | Control plane                   | ITDC                            |
| **N3**             | NTN Gateway â†” UPF              | User plane                      | ITDC                            |
| **N4**             | SMF â†” UPF                      | Traffic rules                   | ITDC, BSS                       |
| **N6**             | AMF â†” AUSF                     | Authentication                  | ITDC, **HSM**, SIM provisioning |
| **N9**             | AMF â†” UDM                      | Subscription                    | ITDC, SIM provisioning, BSS     |

***

# ğŸš€ **If you want, I can now produce:**

### âœ” A **PowerPoint (.pptx)** version of this document
### âœ” A **diagram-centric** architecture document (PDF)
### âœ” A **version tailored to your actual internal IRISÂ² subsystem names**
### âœ” A technical **sequence diagram** for authentication or SIM provisioning

Just tell me which format you prefer!


Voici exactement comment tu peux intervenir efficacement dans cette conversation â€” en tant que responsable ou reprÃ©sentant du sousâ€‘systÃ¨me 5GCN, 
Sans prendre position sur les parties ITDC, sÃ©curitÃ© ou KMF, mais en recentrant la discussion sur ton scope clair, 
Tout en apportant de la structure, de la clartÃ© et de la valeur.

âœ… Objectif de ton intervention
Tu veux :

Clarifier ce qui relÃ¨ve du 5GCN et ce qui nâ€™en relÃ¨ve pas
Confirmer les besoins du 5GCN en termes dâ€™HSM et de stockage des K (clÃ© maÃ®tresse SIM)
Recadrer la discussion technique qui dÃ©rive vers la sÃ©curitÃ© / KMF
Mettre en avant que pour avancer, il faut un Highâ€‘Level Design de la partie SIM Provisioning / KMF
Rester factuel, neutre et dans ton pÃ©rimÃ¨tre (pas question de rÃ©pondre Ã  la place de la sÃ©curitÃ©)


ğŸ—£ï¸ Proposition de message que tu peux envoyer (clair, professionnel, utile)
Voici un texte que tu peux copier/coller tel quel :

Bonjour Ã  tous,
Pour complÃ©ter la discussion du point de vue 5GCN, je souhaite clarifier notre pÃ©rimÃ¨tre et les dÃ©pendances identifiÃ©es :
ğŸ”¹ 1. Besoin en HSM cÃ´tÃ© 5GCN
Dans notre architecture 5GCN, nous avons effectivement besoin dâ€™un HSM dÃ©diÃ© au stockage des clÃ©s K au sein de lâ€™UDR, comme prÃ©vu dans la spÃ©cification 5GCN.
Cela permet :

de dÃ©river les clefs dâ€™authentification 5Gâ€‘AKA,
dâ€™assurer la cohÃ©rence entre SIM, UDR et AUSF,
et de sÃ©curiser lâ€™accÃ¨s aux valeurs K dans le domaine 5GCN.

Ce point est dÃ©jÃ  alignÃ© dans la RFP.
ğŸ”¹ 2. Relation avec le KMF (Security / GOVSATCOM)
Le KMF ne relÃ¨ve pas du pÃ©rimÃ¨tre 5GCN.
Toutefois, nous dÃ©pendons de leur design pour comprendre :

comment les clÃ©s K seront gÃ©nÃ©rÃ©es,
comment elles seront injectÃ©es,
et quelle partie du cycle de vie des clÃ©s devra Ãªtre synchronisÃ©e vers lâ€™UDR.

Si le choix final est dâ€™avoir un HSM dans le KMF + un HSM dans lâ€™UDR, cela ne pose pas de problÃ¨me pour le 5GCN, mais il faut en dÃ©finir clairement :

les interfaces,
les responsabilitÃ©s,
la sÃ©quence dâ€™injection de clÃ©s.

ğŸ”¹ 3. Besoin urgent : un High-Level Design SIM Provisioning / KMF
Nous ne pouvons pas finaliser les dÃ©pendances 5GCN sans :

le HLD de la chaÃ®ne complÃ¨te SIM Provisioning,
la description du rÃ´le exact du KMF,
et la dÃ©finition prÃ©cise des flux Security â†’ UDR.

Ã€ ce stade, le document reÃ§u semble Ãªtre une liste de exigences gÃ©nÃ©riques (type NIST) et ne permet pas de valider lâ€™architecture dâ€™ensemble.
ğŸ”¹ 4. Proposition
Je propose que lâ€™Ã©quipe Security/KMF fournisse :

un HLD couvrant : gÃ©nÃ©ration K, stockage, duplication sÃ©curisÃ©e, injection, gestion du cycle de vie,
ainsi que les interfaces prÃ©vues vers le 5GCN/UDR.

Une fois ce design disponible, nous pourrons vÃ©rifier parfaitement lâ€™intÃ©gration dans le 5GCN et sâ€™assurer que "toutes les piÃ¨ces tombent au bon endroit".
Nâ€™hÃ©sitez pas si vous voulez que je prÃ©pare la vue 5GCN dans ce futur HLD.
Bien cordialement,
Isaac

ğŸ¯ Pourquoi ce message est efficace
Il te permet de :

remettre ton pÃ©rimÃ¨tre au centre (5GCN â‰  Security/KMF),
clarifier oÃ¹ doivent aller les clÃ©s K,
Ã©viter les malentendus sur Â« lâ€™origine Â» des HSM,
demander fermement mais calmement le design qui manque,
resserrer la discussion sur les dÃ©pendances rÃ©elles,
montrer que tu maÃ®trises parfaitement lâ€™architecture.

â“ Tu veux que je reformule ce message en version :

plus courte ?
plus diplomatique ?
plus technique ?
plus orientÃ©e "project management" ?

Disâ€‘moi le ton que tu prÃ©fÃ¨res et je te lâ€™adapte.
